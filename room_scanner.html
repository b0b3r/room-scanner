<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–∫–∞–Ω–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏–π Meta Quest 3</title>
    <link rel="stylesheet" href="room_scanner.css">
</head>
<body>
    <div id="app">
        <div id="loading" class="screen">
            <div class="loading-content">
                <h1>–°–∫–∞–Ω–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏–π</h1>
                <p>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—é...</p>
                <div class="spinner"></div>
                <div id="loadingStatus" class="loading-status">–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ WebXR...</div>
            </div>
        </div>

        <div id="welcome" class="screen hidden">
            <div class="welcome-content">
                <h1>üè† –°–∫–∞–Ω–µ—Ä –ø–æ–º–µ—â–µ–Ω–∏–π</h1>
                <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Meta Quest 3 –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–π –∫–≤–∞—Ä—Ç–∏—Ä—ã</p>
                
                <div class="tips-container">
                    <h3>üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
                    <ul>
                        <li>–î–≤–∏–≥–∞–π—Ç–µ—Å—å –º–µ–¥–ª–µ–Ω–Ω–æ –∏ –ø–ª–∞–≤–Ω–æ</li>
                        <li>–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ –≤—Å–µ —É–≥–ª—ã –∏ —Å—Ç–µ–Ω—ã</li>
                        <li>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –æ–∫–Ω–∞ –∏ –¥–≤–µ—Ä–∏</li>
                        <li>–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ –ø–æ—Ç–æ–ª–æ–∫ –∏ –ø–æ–ª</li>
                        <li>–°–∫–∞–Ω–∏—Ä—É–π—Ç–µ –º–µ–±–µ–ª—å –∏ –ø—Ä–µ–¥–º–µ—Ç—ã –∏–Ω—Ç–µ—Ä—å–µ—Ä–∞</li>
                    </ul>
                </div>

                <div class="controls">
                    <button id="startScan" class="btn-primary">–ù–∞—á–∞—Ç—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                    <button id="loadScan" class="btn-secondary">–ó–∞–≥—Ä—É–∑–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–µ</button>
                    <button id="demoMode" class="btn-secondary">–î–µ–º–æ —Ä–µ–∂–∏–º</button>
                </div>
            </div>
        </div>

        <div id="scanning" class="screen hidden">
            <div class="scanning-overlay">
                <div class="scan-info">
                    <h2>üîç –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...</h2>
                    <div class="scan-stats">
                        <div class="stat">
                            <span class="label">–¢–æ—á–µ–∫:</span>
                            <span id="pointCount">0</span>
                        </div>
                        <div class="stat">
                            <span class="label">–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π:</span>
                            <span id="surfaceCount">0</span>
                        </div>
                        <div class="stat">
                            <span class="label">–í—Ä–µ–º—è:</span>
                            <span id="scanTime">00:00</span>
                        </div>
                    </div>
                    
                    <div class="scan-progress">
                        <div class="progress-bar">
                            <div id="progressFill" class="progress-fill"></div>
                        </div>
                        <span id="progressText">0%</span>
                    </div>
                </div>

                <div class="scan-controls">
                    <button id="pauseScan" class="btn-control">‚è∏Ô∏è –ü–∞—É–∑–∞</button>
                    <button id="stopScan" class="btn-control">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    <button id="saveScan" class="btn-control">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div id="results" class="screen hidden">
            <div class="results-content">
                <h2>‚úÖ –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!</h2>
                
                <div class="scan-summary">
                    <div class="summary-item">
                        <span class="icon">üìä</span>
                        <span class="label">–í—Å–µ–≥–æ —Ç–æ—á–µ–∫:</span>
                        <span id="finalPointCount">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="icon">üè†</span>
                        <span class="label">–ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π:</span>
                        <span id="finalSurfaceCount">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="icon">‚è±Ô∏è</span>
                        <span class="label">–í—Ä–µ–º—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:</span>
                        <span id="finalScanTime">00:00</span>
                    </div>
                    <div class="summary-item">
                        <span class="icon">üìè</span>
                        <span class="label">–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞:</span>
                        <span id="fileSize">0 KB</span>
                    </div>
                </div>

                <div class="export-options">
                    <h3>üì§ –≠–∫—Å–ø–æ—Ä—Ç –¥–ª—è Blender:</h3>
                    <div class="export-buttons">
                        <button id="exportOBJ" class="btn-export">üì¶ OBJ —Ñ–∞–π–ª</button>
                        <button id="exportPLY" class="btn-export">üì¶ PLY —Ñ–∞–π–ª</button>
                        <button id="exportGLTF" class="btn-export">üì¶ glTF —Ñ–∞–π–ª</button>
                        <button id="exportJSON" class="btn-export">üì¶ JSON –¥–∞–Ω–Ω—ã–µ</button>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="newScan" class="btn-primary">üîÑ –ù–æ–≤–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</button>
                    <button id="viewModel" class="btn-secondary">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä –º–æ–¥–µ–ª–∏</button>
                </div>
            </div>
        </div>

        <div id="viewer" class="screen hidden">
            <div class="viewer-content">
                <h2>üëÅÔ∏è 3D –ü—Ä–æ—Å–º–æ—Ç—Ä</h2>
                <div id="modelViewer"></div>
                <button id="backToResults" class="btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º</button>
            </div>
        </div>

        <div id="error" class="screen hidden">
            <div class="error-content">
                <h2>‚ùå –û—à–∏–±–∫–∞</h2>
                <p id="errorMessage">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</p>
                <button id="retryButton" class="btn-primary">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
                <button id="backToWelcome" class="btn-secondary">–ù–∞–∑–∞–¥</button>
            </div>
        </div>
    </div>

    <script src="room_scanner.js"></script>
</body>
</html> 